<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Community â€“ FixCity AI</title>
  <link href="style.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="script.js"></script>
</head>
<body class="bg-gradient-to-br from-purple-50 via-indigo-100 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-gray-900 dark:text-white">
  <header class="sticky top-0 z-50 bg-white/90 dark:bg-gray-900/90 shadow px-6 py-4 backdrop-blur flex justify-between items-center">
    <h1 class="text-2xl font-bold">FixCity AI â€“ Community</h1>
    <nav class="space-x-4">
      <a href="index.html" class="hover:underline">Home</a>
      <a href="submit.html" class="hover:underline">Submit</a>
      <a href="dashboard.html" class="hover:underline">Dashboard</a>
      <a href="AIchatbot.html" class="hover:underline">Chatbot AI</a>
      <a href="signup.html" class="hover:underline">Sign UP</a>
    </nav>
  </header>

  <main class="max-w-5xl mx-auto px-4 py-12 space-y-16">
    <!-- Poll Section -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md">
      <h2 class="text-2xl font-semibold mb-4">Vote on City Improvement Priorities</h2>
      <form id="pollForm" class="space-y-4">
        <label class="block">
          <input type="radio" name="poll" value="Road Maintenance" class="mr-2"> Road Maintenance
        </label>
        <label class="block">
          <input type="radio" name="poll" value="Waste Management" class="mr-2"> Waste Management
        </label>
        <label class="block">
          <input type="radio" name="poll" value="Public Transport" class="mr-2"> Public Transport
        </label>
        <button type="submit" class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg">Submit Vote</button>
        <p id="pollMessage" class="text-green-600 mt-2 hidden">Thanks for voting!</p>
      </form>
    </section>

    <!-- Feedback Section -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md">
      <h2 class="text-2xl font-semibold mb-4">Submit Your Ideas</h2>
      <textarea id="feedbackText" rows="4" class="w-full p-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="Your suggestion..."></textarea>
      <button id="submitFeedback" class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg">Send Feedback</button>
      <p id="feedbackMessage" class="text-green-600 mt-2 hidden">Feedback submitted! ðŸŽ‰</p>
    </section>

    <!-- Leaderboard Mock -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md">
      <h2 class="text-2xl font-semibold mb-4">Community Recognition</h2>
      <ul class="space-y-2">
        <li class="flex justify-between items-center">
          <span class="font-medium">@GreenCityHero</span>
          <span class="bg-green-100 text-green-700 px-2 py-1 rounded">Top Contributor ðŸŒŸ</span>
        </li>
        <li class="flex justify-between items-center">
          <span class="font-medium">@FixItFast</span>
          <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded">Early Reporter ðŸ•’</span>
        </li>
      </ul>
    </section>

    <!-- New Feature: Community Stats -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-md">
      <h2 class="text-2xl font-semibold mb-4">Community Engagement Stats</h2>
      <div class="grid grid-cols-2 gap-4">
        <div class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 rounded-lg shadow">
          <h3 class="text-xl font-bold">Ideas Submitted</h3>
          <p id="ideasCount" class="text-3xl mt-2">0</p>
        </div>
        <div class="bg-gradient-to-r from-green-400 to-blue-500 text-white p-4 rounded-lg shadow">
          <h3 class="text-xl font-bold">Votes Cast</h3>
          <p id="votesCount" class="text-3xl mt-2">0</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="text-center py-6 text-sm opacity-75">
    FixCity AI Community â€“ Collaborate to Innovate.
  </footer>

  <script>
    const pollForm = document.getElementById('pollForm');
    const pollMessage = document.getElementById('pollMessage');
    const votesCount = document.getElementById('votesCount');
    pollForm.addEventListener('submit', e => {
      e.preventDefault();
      pollMessage.classList.remove('hidden');
      localStorage.setItem('community_votes', parseInt(localStorage.getItem('community_votes') || 0) + 1);
      votesCount.textContent = localStorage.getItem('community_votes');
    });

    const feedbackBtn = document.getElementById('submitFeedback');
    const feedbackText = document.getElementById('feedbackText');
    const feedbackMessage = document.getElementById('feedbackMessage');
    const ideasCount = document.getElementById('ideasCount');
    feedbackBtn.addEventListener('click', () => {
      if (feedbackText.value.trim() !== '') {
        feedbackMessage.classList.remove('hidden');
        localStorage.setItem('community_ideas', parseInt(localStorage.getItem('community_ideas') || 0) + 1);
        ideasCount.textContent = localStorage.getItem('community_ideas');
        feedbackText.value = '';
      }
    });

    // Init counts from storage
    votesCount.textContent = localStorage.getItem('community_votes') || 0;
    ideasCount.textContent = localStorage.getItem('community_ideas') || 0;
  </script>
</body>
</html>

